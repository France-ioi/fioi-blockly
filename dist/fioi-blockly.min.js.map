{"version":3,"sources":["field_variable.js","variables.js","msg_fr.js","dicts.js","inputs.js","lists.js","logic.js","text.js","javascript.js","python.js","loops.js","python_procedures.js"],"names":["Blockly","FieldVariable","prototype","classValidator","text","promptName","promptText","defaultText","hideChaff","newVar","window","prompt","replace","Msg","RENAME_VARIABLE","NEW_VARIABLE","test","workspace","this","sourceBlock_","oldVar","getText","RENAME_VARIABLE_TITLE","Variables","renameVariable","NEW_VARIABLE_TITLE","flyoutOptions","any","anyButton","fixed","includedBlocks","get","set","incr","shortList","flyoutCategory","xmlList","options","scratchMode","fullVariableList","variableList","indexOf","newVarIdx","i","length","idx","splice","sort","goog","string","caseInsensitiveCompare","button","dom","createDom","setAttribute","registerButtonCallback","createVariable","getTargetWorkspace","push","concat","blockNames","Blocks","block","field","createVariableDom_","appendChild","createTextDom_","createMathNumberDom_","value","shadowBlock","numberField","VARIABLES_DEFAULT_NAME","TEXT_APPEND_VARIABLE","DICTS_CREATE_EMPTY_TITLE","DICTS_CREATE_WITH_CONTAINER_TITLE_ADD","DICTS_CREATE_WITH_CONTAINER_TOOLTIP","DICTS_CREATE_WITH_INPUT_WITH","DICTS_CREATE_WITH_ITEM_KEY","DICTS_CREATE_WITH_ITEM_MAPPING","DICTS_CREATE_WITH_ITEM_TITLE","DICTS_CREATE_WITH_ITEM_TOOLTIP","DICTS_CREATE_WITH_TOOLTIP","DICT_GET","DICT_GET_TO","DICT_KEYS","LISTS_APPEND_MSG","LISTS_APPEND_TOOLTIP","TEXT_PRINT_TITLE","TEXT_PRINT_TOOLTIP","TEXT_PRINT_NOEND_TITLE","TEXT_PRINT_NOEND_TOOLTIP","INPUT_NUM","INPUT_NUM_TOOLTIP","INPUT_CHAR","INPUT_CHAR_TOOLTIP","INPUT_WORD","INPUT_WORD_TOOLTIP","INPUT_LINE","INPUT_LINE_TOOLTIP","dicts","HUE","init","setColour","appendValueInput","setCheck","appendField","setInputsInline","setOutput","newQuote_","FieldTextInput","open","RTL","file","FieldImage","appendDummyInput","appendStatementInput","setTooltip","contextMenu","setPreviousStatement","setNextStatement","itemCount_","updateShape_","setMutator","Mutator","mutationToDom","container","document","createElement","domToMutation","xmlElement","parseInt","getAttribute","getInput","removeInput","setAlign","ALIGN_RIGHT","decompose","containerBlock","Block","obtain","initSvg","connection","x","itemBlock","connect","previousConnection","nextConnection","compose","getInputTargetBlock","connections","valueConnection_","targetBlock","saveConnections","value_input","targetConnection","inputs","lists","jsonInit","message0","args0","type","name","variable","check","previousStatement","nextStatement","colour","thisBlock","getFieldValue","rtlOperators","ltrOperators","OPERATORS","setHelpUrl","LOGIC_COMPARE_HELPURL","logic","FieldDropdown","op","TOOLTIPS","EQ","LOGIC_COMPARE_TOOLTIP_EQ","NEQ","LOGIC_COMPARE_TOOLTIP_NEQ","LT","LOGIC_COMPARE_TOOLTIP_LT","LTE","LOGIC_COMPARE_TOOLTIP_LTE","GT","LOGIC_COMPARE_TOOLTIP_GT","GTE","LOGIC_COMPARE_TOOLTIP_GTE","prevBlocks_","onchange","e","blockA","blockB","outputConnection","checkType_","Events","setGroup","group","unplug","bumpNeighbours_","texts","tooltip","helpUrl","TEXT_PRINT_HELPURL","JavaScript","definitions_","Object","create","functionNames_","variableDB_","reset","Names","RESERVED_WORDS_","quote_","variable0","getName","NAME_TYPE","argument0","valueToCode","ORDER_ASSIGNMENT","argument1","increment","branch","statementToCode","addLoopTrap","id","code","isNumber","up","parseFloat","step","Math","abs","startVar","match","getDistinctName","endVar","incVar","INDENT","varName","Python","PASS","dict","ORDER_MEMBER","ORDER_NONE","ORDER_ATOMIC","Array","n","key","join","getField","repeats","String","Number","loopVar","globals","arguments_","funcName","Procedures","STATEMENT_PREFIX","prefixLines","INFINITE_LOOP_TRAP","returnValue","args","ORDER_FUNCTION_CALL","condition","hasReturnValue_","msg"],"mappings":"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","file":"fioi-blockly.min.js","sourcesContent":["Blockly.FieldVariable.prototype.classValidator = function(text) {\n  function promptName(promptText, defaultText) {\n    Blockly.hideChaff();\n    var newVar = window.prompt(promptText, defaultText);\n    // Merge runs of whitespace.  Strip leading and trailing whitespace.\n    if (newVar) {\n      newVar = newVar.replace(/[\\s\\xa0]+/g, ' ').replace(/^ | $/g, '');\n      // Allow only\n      if (newVar == Blockly.Msg.RENAME_VARIABLE ||\n          newVar == Blockly.Msg.NEW_VARIABLE ||\n          !(/^[a-zA-Z_]\\w*$/.test(newVar))) {\n        newVar = null;\n      }\n    }\n    return newVar;\n  }\n  var workspace = this.sourceBlock_.workspace;\n  if (text == Blockly.Msg.RENAME_VARIABLE) {\n    var oldVar = this.getText();\n    text = promptName(Blockly.Msg.RENAME_VARIABLE_TITLE.replace('%1', oldVar),\n                      oldVar);\n    if (text) {\n      Blockly.Variables.renameVariable(oldVar, text, workspace);\n    }\n    return null;\n  } else if (text == Blockly.Msg.NEW_VARIABLE) {\n    text = promptName(Blockly.Msg.NEW_VARIABLE_TITLE, '');\n    // Since variables are case-insensitive, ensure that if the new variable\n    // matches with an existing variable, the new case prevails throughout.\n    if (text) {\n      Blockly.Variables.renameVariable(text, text, workspace);\n      return text;\n    }\n    return null;\n  }\n  return undefined;\n};\n","// Options for the variables flyout\nBlockly.Variables.flyoutOptions = {\n  any: true, // Allow to create any variable\n  anyButton: true, // Add the button to add variables (needs any=true)\n  fixed: [], // List of fixed variables (will create blocks for each of them)\n  includedBlocks: {get: true, set: true, incr: true}, // Blocks to add to the list\n  shortList: true, // Generate set/incr blocks only for the first (non-fixed) variable\n  };\n\n// Construct the blocks required by the flyout for the variable category.\nBlockly.Variables.flyoutCategory = function(workspace) {\n  var xmlList = [];\n  var options = Blockly.Variables.flyoutOptions;\n\n  // Detect if we're in Blockly or Scratch\n  var scratchMode = !!(Blockly.registerButtonCallback);\n  if(options.any) {\n    if(workspace) {\n      var fullVariableList = workspace.variableList;\n    } else {\n      if(options.fixed.indexOf('newvar') > -1) {\n        var newVarIdx = 0;\n        while(options.fixed.indexOf('newvar'+newVarIdx) > -1) {\n          newVarIdx++;\n        }\n        var fullVariableList = ['newvar'+newVarIdx];\n      } else {\n        var fullVariableList = ['newvar'];\n      }\n    }\n    for(var i=0; i<options.fixed.length; i++) {\n      var idx = fullVariableList.indexOf(options.fixed[i]);\n      if(idx > -1) {\n        fullVariableList.splice(idx, 1);\n      }\n    }\n    fullVariableList.sort(goog.string.caseInsensitiveCompare);\n\n    if(options.anyButton) {\n      var button = goog.dom.createDom('button');\n      button.setAttribute('text', Blockly.Msg.NEW_VARIABLE);\n      if(scratchMode) {\n        // Scratch\n        button.setAttribute('callbackKey', 'CREATE_VARIABLE');\n        Blockly.registerButtonCallback('CREATE_VARIABLE', function(button) {\n          Blockly.Variables.createVariable(button.getTargetWorkspace());\n        });\n      }\n      xmlList.push(button);\n    }\n  } else {\n    var fullVariableList = [];\n  }\n\n  var variableList = options.fixed.concat(fullVariableList);\n\n  if (variableList.length > 0) {\n    if(scratchMode) {\n      var blockNames = {\n        get: 'data_variable',\n        set: 'data_setvariableto',\n        incr: 'data_changevariableby'\n        };\n    } else {\n      var blockNames = {\n        get: 'variables_get',\n        set: 'variables_set',\n        incr: 'math_change'\n        };\n    }\n\n    if (options.includedBlocks.get && Blockly.Blocks[blockNames.get]) {\n      for(var i=0; i<variableList.length; i++) {\n        // <block type=\"variables_get\" gap=\"8\">\n        //   <field name=\"VAR\">item</field>\n        // </block>\n        var block = goog.dom.createDom('block');\n        block.setAttribute('type', blockNames.get);\n        if (i < options.fixed.length) {\n          block.setAttribute('editable', 'false');\n        }\n        if (i == variableList.length - 1) {\n          block.setAttribute('gap', 24);\n        } else {\n          block.setAttribute('gap', 8);\n        }\n\n        if(scratchMode) {\n          var field = Blockly.Variables.createVariableDom_(variableList[i]);\n        } else {\n          var field = goog.dom.createDom('field', null, variableList[i]);\n          field.setAttribute('name', 'VAR');\n        }\n\n        block.appendChild(field);\n        xmlList.push(block);\n      }\n    }\n\n    if (options.includedBlocks.set && Blockly.Blocks[blockNames.set]) {\n      for(var i=0; i<variableList.length; i++) {\n        // <block type=\"variables_set\" gap=\"20\">\n        //   <field name=\"VAR\">item</field>\n        // </block>\n        if(options.shortList && i > options.fixed.length) {\n          break;\n        }\n\n        var block = goog.dom.createDom('block');\n        block.setAttribute('type', blockNames.set);\n        if (i < options.fixed.length) {\n          block.setAttribute('editable', 'false');\n        }\n        if (i == variableList.length - 1) {\n          block.setAttribute('gap', 24);\n        } else {\n          block.setAttribute('gap', 8);\n        }\n\n        if(scratchMode) {\n          var field = Blockly.Variables.createVariableDom_(variableList[i]);\n          block.appendChild(field);\n          block.appendChild(Blockly.Variables.createTextDom_());\n        } else {\n          var field = goog.dom.createDom('field', null, variableList[i]);\n          field.setAttribute('name', 'VAR');\n          block.appendChild(field);\n        }\n\n        xmlList.push(block);\n      }\n    }\n    if (options.includedBlocks.incr && Blockly.Blocks[blockNames.incr]) {\n      for(var i=0; i<variableList.length; i++) {\n        // <block type=\"math_change\">\n        //   <value name=\"DELTA\">\n        //     <shadow type=\"math_number\">\n        //       <field name=\"NUM\">1</field>\n        //     </shadow>\n        //   </value>\n        // </block>\n        if(options.shortList && i > options.fixed.length) {\n          break;\n        }\n\n        var block = goog.dom.createDom('block');\n        block.setAttribute('type', blockNames.incr);\n        if (i < options.fixed.length) {\n          block.setAttribute('editable', 'false');\n        }\n        if (i == variableList.length - 1) {\n          block.setAttribute('gap', 24);\n        } else {\n          block.setAttribute('gap', 8);\n        }\n        if(scratchMode) {\n          var field = Blockly.Variables.createVariableDom_(variableList[i]);\n          block.appendChild(field);\n          block.appendChild(Blockly.Variables.createMathNumberDom_())\n        } else {\n          var value = goog.dom.createDom('value');\n          value.setAttribute('name', 'DELTA');\n          block.appendChild(value);\n\n          var shadowBlock = goog.dom.createDom('shadow');\n          shadowBlock.setAttribute('type', 'math_number');\n          value.appendChild(shadowBlock);\n\n          var numberField = goog.dom.createDom('field', null, '1');\n          numberField.setAttribute('name', 'NUM');\n          shadowBlock.appendChild(numberField);\n\n          var field = goog.dom.createDom('field', null, variableList[i]);\n          field.setAttribute('name', 'VAR');\n          block.appendChild(field);\n        }\n\n        xmlList.push(block);\n      }\n    }\n\n  }\n  return xmlList;\n};\n\n","Blockly.Msg.VARIABLES_DEFAULT_NAME = \"element\";\nBlockly.Msg.TEXT_APPEND_VARIABLE = Blockly.Msg.VARIABLES_DEFAULT_NAME;\n\nBlockly.Msg.DICTS_CREATE_EMPTY_TITLE = \"dictionnaire vide\";\nBlockly.Msg.DICTS_CREATE_WITH_CONTAINER_TITLE_ADD = \"Créer un dictionnaire\";\nBlockly.Msg.DICTS_CREATE_WITH_CONTAINER_TOOLTIP = \"\";\nBlockly.Msg.DICTS_CREATE_WITH_INPUT_WITH = \"créer un dictionnaire :\";\nBlockly.Msg.DICTS_CREATE_WITH_ITEM_KEY = \"cle\";\nBlockly.Msg.DICTS_CREATE_WITH_ITEM_MAPPING = \":\";\nBlockly.Msg.DICTS_CREATE_WITH_ITEM_TITLE = \"clé/valeur\";\nBlockly.Msg.DICTS_CREATE_WITH_ITEM_TOOLTIP = \"\";\nBlockly.Msg.DICTS_CREATE_WITH_TOOLTIP = \"\";\nBlockly.Msg.DICT_GET = \"récupérer la clé\";\nBlockly.Msg.DICT_GET_TO = \"de\";\nBlockly.Msg.DICT_KEYS = \"liste des clés de\";\nBlockly.Msg.LISTS_APPEND_MSG = \"à la liste %1 ajouter l'élément %2\";\nBlockly.Msg.LISTS_APPEND_TOOLTIP = \"Ajouter un élément à la liste '%1'\";\nBlockly.Msg.TEXT_PRINT_TITLE = \"afficher la ligne %1\";\nBlockly.Msg.TEXT_PRINT_TOOLTIP = \"Afficher le texte, le nombre ou une autre valeur spécifiée, avec retour à la ligne après.\";\nBlockly.Msg.TEXT_PRINT_NOEND_TITLE = \"afficher %1\";\nBlockly.Msg.TEXT_PRINT_NOEND_TOOLTIP = \"Afficher le texte, le nombre ou une autre valeur spécifiée, sans retour à la ligne.\";\n\nBlockly.Msg.INPUT_NUM = \"lire un nombre\";\nBlockly.Msg.INPUT_NUM_TOOLTIP = \"Lit un nombre sur l'entrée du programme.\";\nBlockly.Msg.INPUT_CHAR = \"lire un caractère\";\nBlockly.Msg.INPUT_CHAR_TOOLTIP = \"Lit un caractère sur l'entrée du programme.\";\nBlockly.Msg.INPUT_WORD = \"lire un mot\";\nBlockly.Msg.INPUT_WORD_TOOLTIP = \"Lit un mot sur l'entrée du programme.\";\nBlockly.Msg.INPUT_LINE = \"lire une ligne\";\nBlockly.Msg.INPUT_LINE_TOOLTIP = \"Lit une ligne sur l'entrée du programme.\";\n","Blockly.Python['dict_get'] = function(block) {\n  var dict = Blockly.Python.valueToCode(block, 'DICT',\n      Blockly.Python.ORDER_MEMBER) || '___';\n  var value = Blockly.Python.valueToCode(block, 'ITEM',\n      Blockly.Python.ORDER_NONE) || '___';\n  var code = dict + '[' + value + ']';\n  return [code, Blockly.Python.ORDER_ATOMIC];\n};\n\n\nBlockly.Python['dict_get_literal'] = function(block) {\n  var dict = Blockly.Python.valueToCode(block, 'DICT',\n      Blockly.Python.ORDER_MEMBER) || '___';\n  var value = Blockly.Python.quote_(block.getFieldValue('ITEM'));\n  var code = dict + '[' + value + ']';\n  return [code, Blockly.Python.ORDER_ATOMIC];\n};\n\n\nBlockly.Python['dicts_create_with'] = function(block) {\n    var value_keys = Blockly.Python.valueToCode(block, 'keys', Blockly.   Python.ORDER_ATOMIC);\n    // TODO: Assemble Python into code variable.\n    var code = new Array(block.itemCount_);\n  \n    for (var n = 0; n < block.itemCount_; n++) {\n        var key = Blockly.Python.quote_(block.getFieldValue('KEY' + n));\n        var value = Blockly.Python.valueToCode(block, 'VALUE' + n,\n                Blockly.Python.ORDER_NONE) || '___';\n        code[n] = key +\": \"+ value;\n    }\n    code = '{' + code.join(', ') + '}';\n    return [code, Blockly.Python.ORDER_ATOMIC];\n};\n\nBlockly.Python['dict_keys'] = function(block) {\n  var dict = Blockly.Python.valueToCode(block, 'DICT',\n      Blockly.Python.ORDER_MEMBER) || '___';\n  var code = dict + '.keys()';\n  return [code, Blockly.Python.ORDER_ATOMIC];\n};\n\n","Blockly.Python['input_num'] = function(block) {\n  Blockly.Python.definitions_['import_sys'] = 'import sys';\n  Blockly.Python.definitions_['from_string_import_whitespace'] = 'from string import whitespace';\n  Blockly.Python.definitions_['input_word'] = \"def input_word():\\n\"\n                                            + \"    buffer = ''\\n\"\n                                            + \"    newchar = 'c'\\n\"\n                                            + \"    while newchar:\\n\"\n                                            + \"        newchar = sys.stdin.read(1)\\n\"\n                                            + \"        if newchar in whitespace:\\n\"\n                                            + \"            if buffer: break\\n\"\n                                            + \"        else:\\n\"\n                                            + \"            buffer += newchar\\n\"\n                                            + \"    return buffer\\n\";\n  var code = 'int(input_word())';\n  return [code, Blockly.Python.ORDER_ATOMIC];\n};\n\nBlockly.Python['input_char'] = function(block) {\n  Blockly.Python.definitions_['import_sys'] = 'import sys';\n  var code = 'sys.stdin.read(1)';\n  return [code, Blockly.Python.ORDER_ATOMIC];\n};\n\nBlockly.Python['input_word'] = function(block) {\n  Blockly.Python.definitions_['import_sys'] = 'import sys';\n  Blockly.Python.definitions_['from_string_import_whitespace'] = 'from string import whitespace';\n  Blockly.Python.definitions_['input_word'] = \"def input_word():\\n\"\n                                            + \"    buffer = ''\\n\"\n                                            + \"    newchar = 'c'\\n\"\n                                            + \"    while newchar:\\n\"\n                                            + \"        newchar = sys.stdin.read(1)\\n\"\n                                            + \"        if newchar in whitespace:\\n\"\n                                            + \"            if buffer: break\\n\"\n                                            + \"        else:\\n\"\n                                            + \"            buffer += newchar\\n\"\n                                            + \"    return buffer\\n\";\n  var code = 'input_word()';\n  return [code, Blockly.Python.ORDER_ATOMIC];\n};\n\nBlockly.Python['input_line'] = function(block) {\n  Blockly.Python.definitions_['import_sys'] = 'import sys';\n  var code = 'sys.stdin.readline()[:-1]';\n  return [code, Blockly.Python.ORDER_ATOMIC];\n};\n","Blockly.Python['lists_append'] = function(block) {\n  // Append\n  var varName = Blockly.Python.variableDB_.getName(block.getFieldValue('VAR'),\n      Blockly.Variables.NAME_TYPE);\n  var value = Blockly.Python.valueToCode(block, 'ITEM',\n      Blockly.Python.ORDER_NONE) || '___';\n  return varName + '.append(' + value + ')\\n';\n};\n","Blockly.Blocks['logic_compare'] = {\n  /**\n   * Block for comparison operator.\n   * @this Blockly.Block\n   */\n  init: function() {\n    var rtlOperators = [\n      ['==', 'EQ'],\n      ['!=', 'NEQ'],\n      ['>', 'LT'],\n      ['>=', 'LTE'],\n      ['<', 'GT'],\n      ['<=', 'GTE']\n    ];\n    var ltrOperators = [\n      ['==', 'EQ'],\n      ['!=', 'NEQ'],\n      ['<', 'LT'],\n      ['<=', 'LTE'],\n      ['>', 'GT'],\n      ['>=', 'GTE']\n    ];\n    var OPERATORS = this.RTL ? rtlOperators : ltrOperators;\n    this.setHelpUrl(Blockly.Msg.LOGIC_COMPARE_HELPURL);\n    this.setColour(Blockly.Blocks.logic.HUE);\n    this.setOutput(true, 'Boolean');\n    this.appendValueInput('A');\n    this.appendValueInput('B')\n        .appendField(new Blockly.FieldDropdown(OPERATORS), 'OP');\n    this.setInputsInline(true);\n    // Assign 'this' to a variable for use in the tooltip closure below.\n    var thisBlock = this;\n    this.setTooltip(function() {\n      var op = thisBlock.getFieldValue('OP');\n      var TOOLTIPS = {\n        'EQ': Blockly.Msg.LOGIC_COMPARE_TOOLTIP_EQ,\n        'NEQ': Blockly.Msg.LOGIC_COMPARE_TOOLTIP_NEQ,\n        'LT': Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LT,\n        'LTE': Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LTE,\n        'GT': Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GT,\n        'GTE': Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GTE\n      };\n      return TOOLTIPS[op];\n    });\n    this.prevBlocks_ = [null, null];\n  },\n  /**\n   * Called whenever anything on the workspace changes.\n   * Prevent mismatched types from being compared.\n   * @param {!Blockly.Events.Abstract} e Change event.\n   * @this Blockly.Block\n   */\n  onchange: function(e) {\n    var blockA = this.getInputTargetBlock('A');\n    var blockB = this.getInputTargetBlock('B');\n    // Disconnect blocks that existed prior to this change if they don't match.\n    if (blockA && blockB &&\n        !blockA.outputConnection.checkType_(blockB.outputConnection)) {\n      // Mismatch between two inputs.  Disconnect previous and bump it away.\n      // Ensure that any disconnections are grouped with the causing event.\n      Blockly.Events.setGroup(e.group);\n      for (var i = 0; i < this.prevBlocks_.length; i++) {\n        var block = this.prevBlocks_[i];\n        if (block === blockA || block === blockB) {\n          block.unplug();\n          block.bumpNeighbours_();\n        }\n      }\n      Blockly.Events.setGroup(false);\n    }\n    this.prevBlocks_[0] = blockA;\n    this.prevBlocks_[1] = blockB;\n  }\n};\n\n","Blockly.Python['text_print_noend'] = function(block) {\n  // Print statement.\n  var msg = Blockly.Python.valueToCode(block, 'TEXT',\n      Blockly.Python.ORDER_NONE) || '\\'\\'';\n  return 'print(' + msg + ', end=\"\")\\n';\n};\n","/**\n * Initialise the database of variable names.\n * @param {!Blockly.Workspace} workspace Workspace to generate code from.\n */\nBlockly.JavaScript.init = function(workspace) {\n  // Create a dictionary of definitions to be printed before the code.\n  Blockly.JavaScript.definitions_ = Object.create(null);\n  // Create a dictionary mapping desired function names in definitions_\n  // to actual function names (to avoid collisions with user functions).\n  Blockly.JavaScript.functionNames_ = Object.create(null);\n\n  if (!Blockly.JavaScript.variableDB_) {\n    Blockly.JavaScript.variableDB_ =\n        new Blockly.Names(Blockly.JavaScript.RESERVED_WORDS_);\n  } else {\n    Blockly.JavaScript.variableDB_.reset();\n  }\n};\n\n/**\n * Encode a string as a properly escaped JavaScript string, complete with\n * quotes.\n * @param {string} string Text to encode.\n * @return {string} JavaScript string.\n * @private\n */\nBlockly.JavaScript.quote_ = function(string) {\n  // Can't use goog.string.quote since Google's style guide recommends\n  // JS string literals use single quotes.\n  string = string.replace(/\\\\/g, '\\\\\\\\')\n                 .replace(/\\n/g, '\\\\\\n')\n                 .replace(/\"/g, '\\\\\"');\n  return '\"' + string + '\"';\n};\n\n\nBlockly.JavaScript['controls_for'] = function(block) {\n  // For loop.\n  var variable0 = Blockly.JavaScript.variableDB_.getName(\n      block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n  var argument0 = Blockly.JavaScript.valueToCode(block, 'FROM',\n      Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n  var argument1 = Blockly.JavaScript.valueToCode(block, 'TO',\n      Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n  var increment = Blockly.JavaScript.valueToCode(block, 'BY',\n      Blockly.JavaScript.ORDER_ASSIGNMENT) || '1';\n  var branch = Blockly.JavaScript.statementToCode(block, 'DO');\n  branch = Blockly.JavaScript.addLoopTrap(branch, block.id);\n  var code;\n  if (Blockly.isNumber(argument0) && Blockly.isNumber(argument1) &&\n      Blockly.isNumber(increment)) {\n    // All arguments are simple numbers.\n    var up = parseFloat(argument0) <= parseFloat(argument1);\n    code = 'for (var ' + variable0 + ' = ' + argument0 + '; ' +\n        variable0 + (up ? ' <= ' : ' >= ') + argument1 + '; ' +\n        variable0;\n    var step = Math.abs(parseFloat(increment));\n    if (step == 1) {\n      code += up ? '++' : '--';\n    } else {\n      code += (up ? ' += ' : ' -= ') + step;\n    }\n    code += ') {\\n' + branch + '}\\n';\n  } else {\n    code = '';\n    // Cache non-trivial values to variables to prevent repeated look-ups.\n    var startVar = argument0;\n    if (!argument0.match(/^\\w+$/) && !Blockly.isNumber(argument0)) {\n      startVar = Blockly.JavaScript.variableDB_.getDistinctName(\n          variable0 + '_start', Blockly.Variables.NAME_TYPE);\n      code += 'var ' + startVar + ' = ' + argument0 + ';\\n';\n    }\n    var endVar = argument1;\n    if (!argument1.match(/^\\w+$/) && !Blockly.isNumber(argument1)) {\n      var endVar = Blockly.JavaScript.variableDB_.getDistinctName(\n          variable0 + '_end', Blockly.Variables.NAME_TYPE);\n      code += 'var ' + endVar + ' = ' + argument1 + ';\\n';\n    }\n    // Determine loop direction at start, in case one of the bounds\n    // changes during loop execution.\n    var incVar = Blockly.JavaScript.variableDB_.getDistinctName(\n        variable0 + '_inc', Blockly.Variables.NAME_TYPE);\n    code += 'var ' + incVar + ' = ';\n    if (Blockly.isNumber(increment)) {\n      code += Math.abs(increment) + ';\\n';\n    } else {\n      code += 'Math.abs(' + increment + ');\\n';\n    }\n    code += 'if (' + startVar + ' > ' + endVar + ') {\\n';\n    code += Blockly.JavaScript.INDENT + incVar + ' = -' + incVar + ';\\n';\n    code += '}\\n';\n    code += 'for (' + variable0 + ' = ' + startVar + '; ' +\n        incVar + ' >= 0 ? ' +\n        variable0 + ' <= ' + endVar + ' : ' +\n        variable0 + ' >= ' + endVar + '; ' +\n        variable0 + ' += ' + incVar + ') {\\n' +\n        branch + '}\\n';\n  }\n  return code;\n};\n\nBlockly.JavaScript['variables_set'] = function(block) {\n  // Variable setter.\n  var argument0 = Blockly.JavaScript.valueToCode(block, 'VALUE',\n      Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n  var varName = Blockly.JavaScript.variableDB_.getName(\n      block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n  return 'var ' + varName + ' = ' + argument0 + ';\\n';\n};\n","/**\n * Initialise the database of variable names.\n * @param {!Blockly.Workspace} workspace Workspace to generate code from.\n */\nBlockly.Python.init = function(workspace) {\n  /**\n   * Empty loops or conditionals are not allowed in Python.\n   */\n  Blockly.Python.PASS = this.INDENT + 'pass\\n';\n  // Create a dictionary of definitions to be printed before the code.\n  Blockly.Python.definitions_ = Object.create(null);\n  // Create a dictionary mapping desired function names in definitions_\n  // to actual function names (to avoid collisions with user functions).\n  Blockly.Python.functionNames_ = Object.create(null);\n\n  if (!Blockly.Python.variableDB_) {\n    Blockly.Python.variableDB_ =\n        new Blockly.Names(Blockly.Python.RESERVED_WORDS_);\n  } else {\n    Blockly.Python.variableDB_.reset();\n  }\n};\n\n/**\n * Encode a string as a properly escaped Python string, complete with quotes.\n * @param {string} string Text to encode.\n * @return {string} Python string.\n * @private\n */\nBlockly.Python.quote_ = function(string) {\n  // Can't use goog.string.quote since % must also be escaped.\n  string = string.replace(/\\\\/g, '\\\\\\\\')\n                 .replace(/\\n/g, '\\\\\\n')\n                 .replace(/\\%/g, '\\\\%')\n                 .replace(/\"/g, '\\\\\"');\n  return '\"' + string + '\"';\n};\n","Blockly.Python['controls_repeat_ext'] = function(block) {\n  // Repeat n times.\n  if (block.getField('TIMES')) {\n    // Internal number.\n    var repeats = String(parseInt(block.getFieldValue('TIMES'), 10));\n  } else {\n    // External number.\n    var repeats = Blockly.Python.valueToCode(block, 'TIMES',\n        Blockly.Python.ORDER_NONE) || '0';\n  }\n  if (Blockly.isNumber(repeats)) {\n    repeats = parseInt(repeats, 10);\n  } else {\n    repeats = 'int(' + repeats + ')';\n  }\n  var branch = Blockly.Python.statementToCode(block, 'DO');\n  branch = Blockly.Python.addLoopTrap(branch, block.id) ||\n      Blockly.Python.PASS;\n  var loopVar = Blockly.Python.variableDB_.getDistinctName(\n      'loop', Blockly.Variables.NAME_TYPE);\n  var code = 'for ' + loopVar + ' in range(' + repeats + '):\\n' + branch;\n  return code;\n};\n\nBlockly.Python['controls_repeat'] = Blockly.Python['controls_repeat_ext'];\n","Blockly.Python['procedures_defreturn'] = function(block) {\n  // Define a procedure with a return value.\n  // First, add a 'global' statement for every variable that is assigned.\n  // acbart: Actually, skip that, globals are bad news!\n  var globals = []; //Blockly.Variables.allVariables(block);\n  for (var i = globals.length - 1; i >= 0; i--) {\n    var varName = globals[i];\n    if (block.arguments_.indexOf(varName) == -1) {\n      globals[i] = Blockly.Python.variableDB_.getName(varName,\n          Blockly.Variables.NAME_TYPE);\n    } else {\n      // This variable is actually a parameter name.  Do not include it in\n      // the list of globals, thus allowing it be of local scope.\n      globals.splice(i, 1);\n    }\n  }\n  globals = globals.length ? '  global ' + globals.join(', ') + '\\n' : '';\n  // Get the function's name\n  var funcName = Blockly.Python.variableDB_.getName(block.getFieldValue('NAME'),\n      Blockly.Procedures.NAME_TYPE);\n  // Get the stack of code\n  var branch = Blockly.Python.statementToCode(block, 'STACK');\n  // Handle prefixing\n  if (Blockly.Python.STATEMENT_PREFIX) {\n    branch = Blockly.Python.prefixLines(\n        Blockly.Python.STATEMENT_PREFIX.replace(/%1/g,\n        '\\'' + block.id + '\\''), Blockly.Python.INDENT) + branch;\n  }\n  // Handle infinite loop trapping\n  if (Blockly.Python.INFINITE_LOOP_TRAP) {\n    branch = Blockly.Python.INFINITE_LOOP_TRAP.replace(/%1/g,\n        '\"' + block.id + '\"') + branch;\n  }\n  // Handle return value\n  var returnValue = Blockly.Python.valueToCode(block, 'RETURN',\n      Blockly.Python.ORDER_NONE) || '';\n  if (returnValue) {\n    returnValue = '  return ' + returnValue + '\\n';\n  } else if (!branch) {\n    branch = Blockly.Python.PASS;\n  }\n  var args = [];\n  for (var x = 0; x < block.arguments_.length; x++) {\n    args[x] = Blockly.Python.variableDB_.getName(block.arguments_[x],\n        Blockly.Variables.NAME_TYPE);\n  }\n  var code = 'def ' + funcName + '(' + args.join(', ') + '):\\n' +\n      globals + branch + returnValue;\n  //acbart: I'm not sure why this is used here. It was fine before when\n  //        functions didn't have anything after them, but now it's deadly.\n  //code = Blockly.Python.scrub_(block, code);\n  //Blockly.Python.definitions_[funcName] = code;\n  return code;\n};\n\n// Defining a procedure without a return value uses the same generator as\n// a procedure with a return value.\nBlockly.Python['procedures_defnoreturn'] =\n    Blockly.Python['procedures_defreturn'];\n\nBlockly.Python['procedures_callreturn'] = function(block) {\n  // Call a procedure with a return value.\n  var funcName = Blockly.Python.variableDB_.getName(block.getFieldValue('NAME'),\n      Blockly.Procedures.NAME_TYPE);\n  var args = [];\n  for (var x = 0; x < block.arguments_.length; x++) {\n    args[x] = Blockly.Python.valueToCode(block, 'ARG' + x,\n        Blockly.Python.ORDER_NONE) || '___';\n  }\n  var code = funcName + '(' + args.join(', ') + ')';\n  return [code, Blockly.Python.ORDER_FUNCTION_CALL];\n};\n\nBlockly.Python['procedures_callnoreturn'] = function(block) {\n  // Call a procedure with no return value.\n  var funcName = Blockly.Python.variableDB_.getName(block.getFieldValue('NAME'),\n      Blockly.Procedures.NAME_TYPE);\n  var args = [];\n  for (var x = 0; x < block.arguments_.length; x++) {\n    args[x] = Blockly.Python.valueToCode(block, 'ARG' + x,\n        Blockly.Python.ORDER_NONE) || '___';\n  }\n  var code = funcName + '(' + args.join(', ') + ')\\n';\n  return code;\n};\n\nBlockly.Python['procedures_ifreturn'] = function(block) {\n  // Conditionally return value from a procedure.\n  var condition = Blockly.Python.valueToCode(block, 'CONDITION',\n      Blockly.Python.ORDER_NONE) || '___';\n  var code = 'if ' + condition + ':\\n';\n  if (block.hasReturnValue_) {\n    var value = Blockly.Python.valueToCode(block, 'VALUE',\n        Blockly.Python.ORDER_NONE) || '___';\n    code += '  return ' + value + '\\n';\n  } else {\n    code += '  return\\n';\n  }\n  return code;\n};\n\nBlockly.Python['procedures_return'] = function(block) {\n  // return value from a procedure.\n  var code = \"return\";\n  if (block.hasReturnValue_) {\n    var value = Blockly.Python.valueToCode(block, 'VALUE',\n        Blockly.Python.ORDER_NONE) || '___';\n    code += ' ' + value + '\\n';\n  } else {\n    code += '\\n';\n  }\n  return code;\n};\n"]}